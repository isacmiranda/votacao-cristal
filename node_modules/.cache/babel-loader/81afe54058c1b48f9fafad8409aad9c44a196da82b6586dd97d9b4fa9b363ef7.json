{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';// Mapeamento de candidatos (id → nome e avatar)\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const candidatosMap={'1':{name:'Aksa Tamara',avatar:'/avatars/avatar_aksa.png'},'2':{name:'Aline Cardoso',avatar:'/avatars/avatar_aline.png'},'3':{name:'Ana Pantera',avatar:'/avatars/avatar_pantera.png'},'4':{name:'Bianca Hayashi',avatar:'/avatars/avatar_bianca.png'},'5':{name:'Emilly Saglária',avatar:'/avatars/avatar_emilly.png'},'6':{name:'Isac Miranda',avatar:'/avatars/avatar_isac.png'},'7':{name:'Isis da Paz',avatar:'/avatars/avatar_isis.png'},'8':{name:'Karina Andrade',avatar:'/avatars/avatar_karina.png'},'9':{name:'Marjorie Ozaki',avatar:'/avatars/avatar_marjorie.png'},'10':{name:'Mauricio Braga',avatar:'/avatars/avatar_mauricio.png'},'11':{name:'Michele Ayancan',avatar:'/avatars/avatar_michele.png'},'12':{name:'Nycholas Sousa',avatar:'/avatars/avatar_nycholas.png'},'13':{name:'Pamela Vitorino',avatar:'/avatars/avatar_pamela.png'},'14':{name:'Rafael Nascimento',avatar:'/avatars/b.png'},'15':{name:'Ramiro Vilela',avatar:'/avatars/avatar_ramiro.png'},'16':{name:'Samira França',avatar:'/avatars/avatar_samira.png'},'17':{name:'Samuel Pereira',avatar:'/avatars/avatar_samuel.png'},'18':{name:'Sara França',avatar:'/avatars/avatar_sara.png'},'19':{name:'Stephanie Matos',avatar:'/avatars/b.png'}};export default function Resultados(){const[resultados,setResultados]=useState({});const[loading,setLoading]=useState(true);const navigate=useNavigate();useEffect(()=>{const fetchResultados=async()=>{try{const res=await fetch(\"http://localhost:4000/votos\");const votos=await res.json();const agrupados={};votos.forEach(voto=>{const{categoria,candidatoId,nota}=voto;if(!agrupados[categoria])agrupados[categoria]={};if(!agrupados[categoria][candidatoId])agrupados[categoria][candidatoId]={total:0,count:0};agrupados[categoria][candidatoId].total+=nota;agrupados[categoria][candidatoId].count+=1;});const resultadosFinal={};for(const categoria in agrupados){resultadosFinal[categoria]=Object.entries(agrupados[categoria]).map(_ref=>{var _candidatosMap$candid,_candidatosMap$candid2;let[candidatoId,data]=_ref;return{id:candidatoId,nome:((_candidatosMap$candid=candidatosMap[candidatoId])===null||_candidatosMap$candid===void 0?void 0:_candidatosMap$candid.name)||'Desconhecido',avatar:((_candidatosMap$candid2=candidatosMap[candidatoId])===null||_candidatosMap$candid2===void 0?void 0:_candidatosMap$candid2.avatar)||'/avatars/default.png',media:data.total/data.count,total:data.total};}).sort((a,b)=>b.media-a.media).slice(0,10);}setResultados(resultadosFinal);setLoading(false);}catch(err){console.error(\"Erro ao buscar resultados:\",err);setLoading(false);}};fetchResultados();},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center text-white\",children:\"Carregando resultados...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-black text-white px-4 py-8\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/logo/logotrofeu.png\",alt:\"Pr\\xEAmio Melhores do Ano 2025\",className:\"mx-auto w-[60%] mb-6\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-[#C59E33] text-center mb-10\",children:\"Resultado Final da Vota\\xE7\\xE3o\"}),Object.entries(resultados).map(_ref2=>{let[categoria,candidatos]=_ref2;return/*#__PURE__*/_jsxs(\"section\",{className:\"mb-12\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-[#C59E33] mb-6 text-center\",children:[categoria,\" - Top 10\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6\",children:candidatos.map((candidato,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center bg-zinc-800 p-4 rounded-lg border border-zinc-700 relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:candidato.avatar,alt:candidato.nome,className:\"w-24 h-24 rounded-full object-cover mb-2 border-2 border-[#C59E33]\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-lg text-center\",children:candidato.nome}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-[#C59E33] text-sm mt-1\",children:[\"#\",index+1,\" Lugar\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-zinc-300 text-sm\",children:[\"Pontos Totais: \",candidato.total]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-zinc-300 text-sm\",children:[\"M\\xE9dia: \",candidato.media.toFixed(2)]})]},candidato.id))})]},categoria);}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{localStorage.removeItem('auth');navigate('/login');},className:\"mt-8 px-6 py-2 bg-red-500 text-white rounded-lg font-semibold\",children:\"Sair\"})]});}","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","candidatosMap","name","avatar","Resultados","resultados","setResultados","loading","setLoading","navigate","fetchResultados","res","fetch","votos","json","agrupados","forEach","voto","categoria","candidatoId","nota","total","count","resultadosFinal","Object","entries","map","_ref","_candidatosMap$candid","_candidatosMap$candid2","data","id","nome","media","sort","a","b","slice","err","console","error","className","children","src","alt","_ref2","candidatos","candidato","index","toFixed","onClick","localStorage","removeItem"],"sources":["C:/Users/Cristal Acquacenter/Desktop/votacao-cristal/src/Resultados.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n// Mapeamento de candidatos (id → nome e avatar)\r\nconst candidatosMap = {\r\n  '1': { name: 'Aksa Tamara', avatar: '/avatars/avatar_aksa.png' },\r\n  '2': { name: 'Aline Cardoso', avatar: '/avatars/avatar_aline.png' },\r\n  '3': { name: 'Ana Pantera', avatar: '/avatars/avatar_pantera.png' },\r\n  '4': { name: 'Bianca Hayashi', avatar: '/avatars/avatar_bianca.png' },\r\n  '5': { name: 'Emilly Saglária', avatar: '/avatars/avatar_emilly.png' },\r\n  '6': { name: 'Isac Miranda', avatar: '/avatars/avatar_isac.png' },\r\n  '7': { name: 'Isis da Paz', avatar: '/avatars/avatar_isis.png' },\r\n  '8': { name: 'Karina Andrade', avatar: '/avatars/avatar_karina.png' },\r\n  '9': { name: 'Marjorie Ozaki', avatar: '/avatars/avatar_marjorie.png' },\r\n  '10': { name: 'Mauricio Braga', avatar: '/avatars/avatar_mauricio.png' },\r\n  '11': { name: 'Michele Ayancan', avatar: '/avatars/avatar_michele.png' },\r\n  '12': { name: 'Nycholas Sousa', avatar: '/avatars/avatar_nycholas.png' },\r\n  '13': { name: 'Pamela Vitorino', avatar: '/avatars/avatar_pamela.png' },\r\n  '14': { name: 'Rafael Nascimento', avatar: '/avatars/b.png' },\r\n  '15': { name: 'Ramiro Vilela', avatar: '/avatars/avatar_ramiro.png' },\r\n  '16': { name: 'Samira França', avatar: '/avatars/avatar_samira.png' },\r\n  '17': { name: 'Samuel Pereira', avatar: '/avatars/avatar_samuel.png' },\r\n  '18': { name: 'Sara França', avatar: '/avatars/avatar_sara.png' },\r\n  '19': { name: 'Stephanie Matos', avatar: '/avatars/b.png' },\r\n};\r\n\r\nexport default function Resultados() {\r\n  const [resultados, setResultados] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchResultados = async () => {\r\n      try {\r\n        const res = await fetch(\"http://localhost:4000/votos\");\r\n        const votos = await res.json();\r\n\r\n        const agrupados = {};\r\n        votos.forEach(voto => {\r\n          const { categoria, candidatoId, nota } = voto;\r\n          if (!agrupados[categoria]) agrupados[categoria] = {};\r\n          if (!agrupados[categoria][candidatoId])\r\n            agrupados[categoria][candidatoId] = { total: 0, count: 0 };\r\n          agrupados[categoria][candidatoId].total += nota;\r\n          agrupados[categoria][candidatoId].count += 1;\r\n        });\r\n\r\n        const resultadosFinal = {};\r\n        for (const categoria in agrupados) {\r\n          resultadosFinal[categoria] = Object.entries(agrupados[categoria])\r\n            .map(([candidatoId, data]) => ({\r\n              id: candidatoId,\r\n              nome: candidatosMap[candidatoId]?.name || 'Desconhecido',\r\n              avatar: candidatosMap[candidatoId]?.avatar || '/avatars/default.png',\r\n              media: data.total / data.count,\r\n              total: data.total,\r\n            }))\r\n            .sort((a, b) => b.media - a.media)\r\n            .slice(0, 10);\r\n        }\r\n\r\n        setResultados(resultadosFinal);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        console.error(\"Erro ao buscar resultados:\", err);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchResultados();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center text-white\">\r\n        Carregando resultados...\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-black text-white px-4 py-8\">\r\n      <img\r\n        src=\"/logo/logotrofeu.png\"\r\n        alt=\"Prêmio Melhores do Ano 2025\"\r\n        className=\"mx-auto w-[60%] mb-6\"\r\n      />\r\n      <h1 className=\"text-4xl font-bold text-[#C59E33] text-center mb-10\">\r\n        Resultado Final da Votação\r\n      </h1>\r\n\r\n      {Object.entries(resultados).map(([categoria, candidatos]) => (\r\n        <section key={categoria} className=\"mb-12\">\r\n          <h2 className=\"text-2xl font-bold text-[#C59E33] mb-6 text-center\">\r\n            {categoria} - Top 10\r\n          </h2>\r\n          <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6\">\r\n            {candidatos.map((candidato, index) => (\r\n              <div\r\n                key={candidato.id}\r\n                className=\"flex flex-col items-center bg-zinc-800 p-4 rounded-lg border border-zinc-700 relative\"\r\n              >\r\n                <img\r\n                  src={candidato.avatar}\r\n                  alt={candidato.nome}\r\n                  className=\"w-24 h-24 rounded-full object-cover mb-2 border-2 border-[#C59E33]\"\r\n                />\r\n                <span className=\"font-bold text-lg text-center\">{candidato.nome}</span>\r\n                <span className=\"text-[#C59E33] text-sm mt-1\">#{index + 1} Lugar</span>\r\n                <span className=\"text-zinc-300 text-sm\">Pontos Totais: {candidato.total}</span>\r\n                <span className=\"text-zinc-300 text-sm\">Média: {candidato.media.toFixed(2)}</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </section>\r\n      ))}\r\n\r\n      <button\r\n        onClick={() => {\r\n          localStorage.removeItem('auth');\r\n          navigate('/login');\r\n        }}\r\n        className=\"mt-8 px-6 py-2 bg-red-500 text-white rounded-lg font-semibold\"\r\n      >\r\n        Sair\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}